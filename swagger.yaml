openapi: 3.0.0
info:
  title: Simple Inventory API
  description: This is a simple API
  contact:
    email: you@your-company.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.0
servers:
# Added by API Auto Mocking Plugin
- description: SwaggerHub API Auto Mocking
  url: https://virtserver.swaggerhub.com/MatteoLunardon/TRENTunOAPIs_la_vendetta/1.0.0
- url: https://virtserver.swaggerhub.com/JOAOPROGRAMMING/TRENTunO/1.0.0
  description: TRENTunO API Auto Mocking
tags:
- name: User
  description: API to manage the users in the system
- name: Park
  description: API to manage the parks in the system
- Review: Review
  description: API to manage the review in the system
- name: Report
  description: API to manage the reports in the system
- name: PubRequest
  description: API to manage the publication requests in the system
paths:
  /user:
    get:
      tags:
      - User
      description: This API will return all users in the system
      responses:
        "200":
        description: successful operation
        content:
          application/json:
            type: array
            schema:
              items:
                $ref: '#/components/UserItem'
        "400":
          description: bad input
    post:
      tags:
      - User
      description: This API will add a new user to the system
      parameters: 
      - name: User
        in: body
        description: User object
        required: true
        schema:
          $ref: '#/components/schemas/UserItem'
      responses:
        "201":
          description: successful operation
        "400":
          description: "invalid input, object invalid"
        "409":
          description: an existing item already exists
  /user/{id}:
    get:
      tags:
      - User
      description: This API will return the user in the system who has the id specified
      parameters:
        - name: id
        in: path
        description: Park id
        required: true 
        schema: 
          item:
            $ref: '#/components/Users'
      responses:
        "200":
          description: successful operation
          content:
          application/json:
            schema:
              $ref: '#/components/UserItem'
        "400":
          description: bad input parameter


  /park:
    get:
      tags:
      - Park
      summary: searches parks
      description: This API will return an array with all parks in the system. 
      parameters:
      - name: name
        in: query
        description: Park name
        required: false
        schema:
          type: string
      - name: Category
        in: query
        description: Park Category
        required: false
        schema:
          $ref: '#/components/Categories'
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/Parks'
        "400":
          description: bad input parameter
    post:
      tags:
      - Park
      description: This API will add a park to the system
      parameters: 
      - name: Park
        in: body
        description: Park object
        required: true
        schema:
          $ref: '#/components/schemas/ParkItem'
      responses:
        "201":
          description: item created
        "400":
          description: "invalid input, object invalid"
        
  /park/{id}:
    get:
      tags:
      - Park
      description: This API will return a park in the system which has the id specified
      parameters:
      - name: id
        in: path
        description: Park id
        required: true 
        schema: 
          $ref: '#/components/Parks'
      responses:
        "200": 
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/compnents/Parks' 
        "400":
          description: bad input parameter
    delete: 
      tags:
      - Park
      description: This API will remove a park in the system which has the id specified
      parameters:
      - name: id
        in: path
        description: Park id
        required: true 
        schema:
          $ref: '#/compenents/Parks'
      responses:
        "200":
          description: successful operation
          content:
            application/json:
              message: "Park successfully deleted"
              deletedPark: number of parks deleted
        "400":
          description: Invalid ID Format
        "404":
          description: Park not Found
        "500":
          description: Server Error
  /event:
      get:
      tags:
      - Event
      description: This API will all the events in the system
      responses:
        "200":
          description: successful operation
          content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/EventItem'
        "400":
          description: bad input parameter  
      post:
        tags:
        - Event
        description: This API will add a new event by passing the required paramters ( only if the user is authorized to do so)
        parameters:
          - name: UserAuth
            in: query
            description: User Authorization
            required: true 
            schema:
              type: boolean
          - name:
            in: body
            description: Event object
            required: true 
            schema:
              $ref: '#/components/schemas/EventItem'
        responses:
          "201":
          description: event created
          "400":
            description: invalid input, object invalid
  /event/{id}:
    get:
      tags:
      - Event
      description: This API will return an event in the system which has the id specified
      parameters:
      - name: id
        in: path
        description: Event id
        required: true 
        schema: 
          $ref: '#/components/Parks'
      

  /review:
  /report:
  /pubrequest:

  /client/updateProfile:
      put:
        tags: 
        - clients
        summary: update Profile
        description: |
         chage some account info |
        parameters: 
          - name: desciption
            in: query
            required: false
            schema:
              type: string
          - name: name
            in: query
            required: false
            schema:
              type: string
          - name: surname
            in: query
            required: false
            schema:
              type: string
        responses:
          "200" :
            description: info updated
  /admins/addpark:
    
  /admins/eventsRequests:
    get:
      tags: 
      - admins
      summary: get all events
      description: |
        return a list of all the events that need to be accepted |
      operationId: eventRequests
      responses:
       "200":
          description: all events returned
          content:
            application/json:
              schema: 
                type: array
                items:  
                  $ref: '#/components/schemas/EventItem'
  /admins/requests:
     get:
      tags: 
      - admins
      summary: get all permmison requests
      description: |
        return a list of all the requests of permission  |
      operationId: permissionRequests
      responses:
       "200":
          description: all permission returned
          content:
            application/json:
              schema: 
                type: array
                items:  
                  $ref: '#/components/schemas/RequestItem'
components:
  schemas:
    Parks:
      type: object
      properties:
        name:
          type: string
          example: Albere
        x_coord:
          type: number
        y_coord:
          type: number
        rating:
          type: number
        description:
          type: string
        categories:
          type: array
          items:
            $ref: '#/compenents/Categories'
    
    Categories:
      type: string
      enum: [Pet, Sport, Running, Fountain] #definire gli enum possibili
   
   







































/client/login/:
    get:
      tags:
      - clients
      summary: log in
      description: |
        By passing email and password, if you have an account, you can log in into the site |
      operationId: clientLogin
      parameters:
      - name: email
        in: query
        description: user's email that he used to register
        style: form
        required: true
        schema:
          type: string
      - name: password
        in: query
        description: user's password
        style: form
        required: true
        schema:
          type: string
      responses:
        "200" : 
          description: you logged in 
  /client/register :
    post:
        tags:
        - clients
        summary:  register an account
        description: |
          By passing in the appropriate parameters an user can create a personal 
          account |
        operationId: clientRegister
        parameters: 
        - name: email
          in: query
          required: true
          schema:
            type: string
        - name: name
          in: query
          required: true
          schema:
            type: string
        - name: surname
          in: query
          required: true
          schema:
            type: string
        - name: password
          in: query
          required: true
          schema:
            type: string
        responses:
          "200" : 
            description: account crated
          "400" :
            description: unvalid input
          "500" :
            description: account already exists
  /client/addReview:
      post:
        tags: 
        - clients
        summary: add a Review 
        description: |
         By passing a text that describe yours opinion and a vote between 1 and 5 you can add a review of a specific park |
        operationId: addRev
        parameters: 
          - name: text
            in: query
            required: false
            schema:
              type: string
          - name: vote
            in: query
            required: true
            schema:
              type: integer
        responses:
          "200" :
            description: item added
          "400" :
            description: invalid input
          "409" :
            description: item alredy exists
  /client/removeReview:
      delete:
        tags: 
        - clients
        summary: delete a Review
        description: |
          By pressing a button the user can delete his own review |
        operationId: delRev
        parameters: 
          - name: id
            in: query
            required: true
            schema:
              type: integer
        responses:
          "200" :
            description: item removed
          "500" :
            description: internal server error
  /client/sendPermissionRequest:
      post:
        tags: 
        - clients
        summary: send a permission request
        description: |
          By passing all the paramters a request to get the permission to publishing events will be send |
        operationId: sendReq
        parameters: 
        - name: accountid
          in: query
          required: true
          schema:
            type: string
        - name: text
          in: query
          required: true
          schema:
            type: string
        - name: document
          in: query
          required: true
          schema:
            type: string
        responses: 
          "200": 
            description: permission request sent
          "400":
            description: invalid input
          "409": 
            description: already sent